(()=>{const component={name:"routing",ccm:"https://ccmjs.github.io/ccm/versions/ccm-26.1.1.js",config:{helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-7.0.0.mjs"]},Instance:function(){let $,flag=false,last_route="";const _routes={};this.ready=(async()=>{$=Object.assign({},this.ccm.helper,this.helper);$.use(this.ccm);if(this.app===true&&this.parent)this.app=(await ccm.load({url:"https://ccmjs.github.io/akless-components/modules/md5.mjs",type:"module",import:"md5"}))(this.parent.config);this.logger&&this.logger.log("ready",$.privatize(this,true));const handler=()=>{if(!$.hasDomContact(this.parent))return window.removeEventListener("hashchange",handler);flag?flag=false:this.refresh()};window.addEventListener("hashchange",handler)});this.define=(async routes=>{Object.assign(_routes,routes);last_route="";await this.refresh()});this.get=(()=>{let route="";window.location.hash.substr(1).split("&").forEach(entry=>{entry=entry.split("=");if(entry.length===1&&!this.app)route=entry[0];else if(entry.length>1&&this.app===entry[0])route=entry[1]});return route});this.set=(route=>{if(route===last_route)return;else last_route=route;let exist=false;flag=true;if(window.location.hash.length>1){const hash="#"+window.location.hash.substr(1).split("&").map(entry=>{const split=entry.split("=");if(split.length===1&&!this.app){split[0]=route;exist=true}else if(split.length===2&&split[0]===this.app){split[1]=route;exist=true}return split.join("=")}).join("&");if(exist)window.location.hash=hash}if(!exist)if(!this.app)window.location.hash="#"+route+(window.location.hash.length>1?"&":"")+window.location.hash.substr(1);else window.location.hash=window.location.hash+(window.location.hash.length>1?"&":"")+this.app+"="+route});this.refresh=(async()=>{let route=this.get();if(route===last_route)return;last_route=route;const params=route.split("-");route=params.shift();_routes[route]&&await _routes[route].apply(undefined,params)})}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||[""])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){(c="latest"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();