<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="AndrÃ© Kless <andre.kless@web.de> 2021">
<meta name="license" content="The MIT License (MIT)">
<title>Test | Routing</title>
<body>
<script src="./../libs/ccm/ccm.js"></script>
<script>
  ccm.start( {
    name: 'test',
    ccm: './../libs/ccm/ccm.js',
    config: {
      routing: [ 'ccm.instance', './ccm.routing.js' ]
    },
    Instance: function () {
      this.ready = async () => {
        this.routing.define( {
          home: () => this.element.querySelector( '#content' ).innerHTML = 'Welcome Home',
          page: page_nr => this.element.querySelector( '#content' ).innerHTML = 'Page ' + page_nr
        } );
      };
      this.start = async () => {
        this.element.innerHTML = `
          Hello World!
          <button id="home">Home</button>
          | Page <input type="number" min="1" max="5" value="5" id="nr">
          <button id="page">Open</button>
          <div id="content">
        `;
        this.routing.refresh();
        this.element.querySelector( '#home' ).addEventListener( 'click', () => {
          this.routing.set( 'home' );
          this.routing.refresh();
        } );
        this.element.querySelector( '#page' ).addEventListener( 'click', () => {
          this.routing.set( 'page-' + this.element.querySelector( '#nr' ).value );
          this.routing.refresh();
        } );
      };
    }
  }, { root: document.body } );
</script>