(()=>{const component={name:"kanban_board_builder",ccm:"https://ccmjs.github.io/ccm/versions/ccm-26.1.1.js",config:{css:["ccm.load",["https://ccmjs.github.io/akless-components/libs/bootstrap-4/css/bootstrap.min.css",["https://ccmjs.github.io/akless-components/libs/selectize-0/selectize.css","https://ccmjs.github.io/akless-components/kanban_board_builder/resources/default.css"]]],helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-7.0.0.mjs"],html:["ccm.load","https://ccmjs.github.io/akless-components/chat_builder/resources/templates.mjs"],ignore:{layout:{white:{key:"white",title:"White",value:["ccm.load","https://ccmjs.github.io/akless-components/kanban_card/resources/default.css"]},gold:{key:"gold",title:"Gold",value:["ccm.load","https://ccmjs.github.io/akless-components/kanban_card/resources/gold.css"]},blue:{key:"blue",title:"Blue",value:["ccm.load","https://ccmjs.github.io/akless-components/kanban_card/resources/blue.css"]}},defaults:{ignore:{card:{component:"https://ccmjs.github.io/akless-components/kanban_card/versions/ccm.kanban_card-4.0.0.js",config:{css:["ccm.load","https://ccmjs.github.io/akless-components/kanban_card/resources/blue.css"],data:{store:["ccm.store",{name:"kanban_card",url:"wss://ccm2.inf.h-brs.de"}]}}}},data:{store:["ccm.store",{name:"kanban_board-data",url:"https://ccm2.inf.h-brs.de"}]},members:["John","Jane","Jake"],permissions:null,priorities:["A","B","C"],user:null}},libs:["ccm.load",["https://ccmjs.github.io/akless-components/libs/jquery-3/jquery.min.js",["https://ccmjs.github.io/akless-components/libs/bootstrap-4/js/bootstrap.bundle.min.js",["https://ccmjs.github.io/akless-components/libs/selectize-0/selectize.min.js",["https://ccmjs.github.io/akless-components/libs/selectize-0/remove_button-plugin.min.js",["https://ccmjs.github.io/akless-components/libs/jquery-ui-1/jquery-ui-sortable.min.js","https://ccmjs.github.io/akless-components/libs/selectize-0/drag_drop-plugin.min.js"]]]]]],preview:"Preview",shadow:"none",submit:"Submit",tool:["ccm.component","https://ccmjs.github.io/akless-components/kanban_board/versions/ccm.kanban_board-4.0.0.js"]},Instance:function(){let $,kanban_board_config;this.ready=(async()=>{$=Object.assign({},this.ccm.helper,this.helper);$.use(this.ccm);delete this.tool.config.parent;this.logger&&this.logger.log("ready",$.privatize(this,true))});this.start=(async()=>{kanban_board_config=await $.dataset(this.data);if(!kanban_board_config.data)kanban_board_config["data.key"]=$.generateKey();kanban_board_config=await $.integrate(kanban_board_config,await $.integrate(this.ignore.defaults,this.tool.config));this.logger&&this.logger.log("start",$.clone(kanban_board_config));this.render(kanban_board_config);jQuery("[data-toggle=popover]").popover();selectize("#kbb-lanes",kanban_board_config.lanes,"Individual List of Lanes");selectize("#kbb-members",kanban_board_config.members,"Individual List of Members");selectize("#kbb-priorities",kanban_board_config.priorities,"Individual List of Priorities");this.element.querySelectorAll("*[name]").forEach(input=>input.addEventListener("change",()=>this.render()));jQuery("#kbb-preview").on("show.bs.modal",()=>this.tool.start(Object.assign(this.getValue(),{root:this.element.querySelector("#kbb-preview-body")})));this.submit&&this.element.querySelector("form").addEventListener("submit",event=>{event.preventDefault();const result_data=this.getValue();this.logger&&this.logger.log("finish",$.clone(result_data));$.onFinish(this,result_data)})});this.render=((config=this.getValue())=>{this.html.render(this.html.main(config,this),this.element)});this.getValue=(()=>{const config=Object.assign(kanban_board_config,$.formData(this.element));config.ignore.card.config.css=this.ignore.layout[config.layout].value;delete config.layout;return config});const selectize=(selector,items,placeholder)=>{jQuery(this.element.querySelector(selector)).selectize({create:true,items:items,labelField:"value",options:items&&items.map(item=>{return{value:item}}),placeholder:placeholder,plugins:["drag_drop","remove_button"]})}}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||[""])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){(c="latest"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();