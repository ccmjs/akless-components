(()=>{const component={name:"image_map",ccm:"https://ccmjs.github.io/ccm/versions/ccm-27.3.1.min.js",config:{back:"â‡½ Back to Map",css:["ccm.load",["https://ccmjs.github.io/akless-components/libs/bootstrap-5/css/bootstrap.min.css","https://ccmjs.github.io/akless-components/image_map/resources/styles-v2.min.css"],{url:"https://ccmjs.github.io/akless-components/libs/bootstrap-5/css/bootstrap-fonts.min.css",context:"head"}],dark:false,helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-8.1.0.min.mjs"],html:["ccm.load","https://ccmjs.github.io/akless-components/image_map/resources/templates.mjs"],ignore:{areas:[]},image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAEsCAQAAACfsolDAAACkUlEQVR42u3TAQ0AAAzCsOPf9AXggLQSliwHzIsEYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaOD0QGjA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHQwOmB0wOiA0QGjA0YHjA4YHYwOGB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOmB0MDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowNGB6MDRgeMDhgdMDpgdMDogNEBo4PRAaMDRgeMDhgdMDpgdMDoYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgejA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHTA6GB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjA0YHowNGB4wOGB0wOmB0wOiA0cHogNEBowNGB4wOGB0wOmB0MDpgdMDogNEBowNGB4wOGB0wOhgdMDpgdMDogNEBowNGB4wORgeMDhgdMDpgdMDogNEBo4PRAaMDRgeMDhgdMDpgdMDogNHB6IDRAaMDRgeMDhgdMDpgdDA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgejSwBGB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOhgdMDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowPtAV1EAS0sGKQOAAAAAElFTkSuQmCC",libs:["ccm.load",["https://ccmjs.github.io/akless-components/libs/bootstrap-5/js/popper.min.js","https://ccmjs.github.io/akless-components/libs/bootstrap-5/js/bootstrap.bundle.min.js"]]},Instance:function(){let $;this.ready=(async()=>{$=Object.assign({},this.ccm.helper,this.helper);$.use(this.ccm);this.dark==="auto"&&this.element.classList.add("dark_auto");this.dark===true&&this.element.classList.add("dark_mode");await Promise.all(this.ignore.areas.map(preload).concat(preload(this)));this.logger&&this.logger.log("ready",$.privatize(this,true))});this.start=(async()=>{this.logger&&this.logger.log("start");$.setContent(this.element,$.html(this.html.map({image:this.image,width:this.width,height:this.height,info:this.info})));this.ignore.areas.forEach(this.renderArea);this.libs&&[...this.element.querySelectorAll('[data-bs-toggle="tooltip"]')].forEach(tooltipTriggerEl=>new bootstrap.Tooltip(tooltipTriggerEl,{container:this.element,html:true,placement:"auto"}));this.onstart&&await this.onstart({instance:this})});this.renderArea=(area_data=>{const $map=this.element.querySelector("#map");const $area=$.html(this.html.area(area_data));$map.appendChild($area);$area.addEventListener("mouseout",()=>this.onmouseout&&this.onmouseout({area_data:$.clone(area_data),element:$area,instance:this}));$area.addEventListener("mouseover",()=>this.onmouseover&&this.onmouseover({area_data:$.clone(area_data),element:$area,instance:this}));this.onrender&&this.onrender({area_data:$.clone(area_data),element:$area,instance:this});area_data.app&&$area.addEventListener("click",async()=>{if(area_data.disabled)return;if(this.preclick&&!await this.preclick({area_data:$.clone(area_data),element:$area,instance:this}))return;$.setContent(this.element,$.html(this.html.app,{caption:this.back}));this.element.querySelector("#back").addEventListener("click",this.start);const $app=this.element.querySelector("#app");if(!$.isInstance(area_data.app)){$.setContent($app,$.loading(this));area_data.app=await $.appDependency(area_data.app).then(app=>$.solveDependency(app,this))}$.setContent($app,area_data.app.root);this.logger&&this.logger.log("click",{area_data:$.clone(area_data)});this.onchange&&await this.onchange({area_data:$.clone(area_data),instance:this})})});const preload=obj=>obj.image&&!obj.width&&new Promise((resolve,reject)=>{const img=new Image;img.onload=(()=>{if(!obj.width)obj.width=img.width;resolve()});img.onerror=reject;img.src=obj.image})}};let b="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);"string"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||[""])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement("script");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute("integrity",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute("crossorigin",component.ccm.crossorigin);a.onload=function(){(c="latest"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url}})();