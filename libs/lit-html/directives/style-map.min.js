import{AttributePart,directive,PropertyPart}from"../lit-html.js";const previousStylePropertyCache=new WeakMap;export const styleMap=directive(styleInfo=>part=>{if(!(part instanceof AttributePart)||part instanceof PropertyPart||part.committer.name!=="style"||part.committer.parts.length>1){throw new Error("The `styleMap` directive must be used in the style attribute "+"and must be the only part in the attribute.")}const{committer:committer}=part;const{style:style}=committer.element;let previousStyleProperties=previousStylePropertyCache.get(part);if(previousStyleProperties===undefined){style.cssText=committer.strings.join(" ");previousStylePropertyCache.set(part,previousStyleProperties=new Set)}previousStyleProperties.forEach(name=>{if(!(name in styleInfo)){previousStyleProperties.delete(name);if(name.indexOf("-")===-1){style[name]=null}else{style.removeProperty(name)}}});for(const name in styleInfo){previousStyleProperties.add(name);if(name.indexOf("-")===-1){style[name]=styleInfo[name]}else{style.setProperty(name,styleInfo[name])}}});