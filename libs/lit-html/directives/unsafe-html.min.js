import{isPrimitive}from"../lib/parts.js";import{directive,NodePart}from"../lit-html.js";const previousValues=new WeakMap;export const unsafeHTML=directive(value=>part=>{if(!(part instanceof NodePart)){throw new Error("unsafeHTML can only be used in text bindings")}const previousValue=previousValues.get(part);if(previousValue!==undefined&&isPrimitive(value)&&value===previousValue.value&&part.value===previousValue.fragment){return}const template=document.createElement("template");template.innerHTML=value;const fragment=document.importNode(template.content,true);part.setValue(fragment);previousValues.set(part,{value:value,fragment:fragment})});