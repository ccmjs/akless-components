const directives=new WeakMap,isDirective=e=>"function"==typeof e&&directives.has(e),isCEPolyfill="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,removeNodes=(e,t,s=null)=>{for(;t!==s;){const s=t.nextSibling;e.removeChild(t);t=s}},noChange={},nothing={},marker=`{{lit-${String(Math.random()).slice(2)}}}`,nodeMarker=`\x3c!--${marker}--\x3e`,markerRegex=new RegExp(`${marker}|${nodeMarker}`);class Template{constructor(e,t){this.parts=[];this.element=t;const s=[],i=[],n=document.createTreeWalker(t.content,133,null,!1);let r=0,o=-1,a=0;const{strings:l,values:{length:d}}=e;for(;a<d;){const e=n.nextNode();if(null!==e){o++;if(1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:s}=t;let i=0;for(let e=0;e<s;e++)endsWith(t[e].name,"$lit$")&&i++;for(;i-- >0;){const t=l[a],s=lastAttributeNameRegex.exec(t)[2],i=s.toLowerCase()+"$lit$",n=e.getAttribute(i);e.removeAttribute(i);const r=n.split(markerRegex);this.parts.push({type:"attribute",index:o,name:s,strings:r});a+=r.length-1}}if("TEMPLATE"===e.tagName){i.push(e);n.currentNode=e.content}}else if(3===e.nodeType){const t=e.data;if(t.indexOf(marker)>=0){const i=e.parentNode,n=t.split(markerRegex),r=n.length-1;for(let t=0;t<r;t++){let s,r=n[t];if(""===r)s=createMarker();else{const e=lastAttributeNameRegex.exec(r);null!==e&&endsWith(e[2],"$lit$")&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]);s=document.createTextNode(r)}i.insertBefore(s,e);this.parts.push({type:"node",index:++o})}if(""===n[r]){i.insertBefore(createMarker(),e);s.push(e)}else e.data=n[r];a+=r}}else if(8===e.nodeType)if(e.data===marker){const t=e.parentNode;if(null===e.previousSibling||o===r){o++;t.insertBefore(createMarker(),e)}r=o;this.parts.push({type:"node",index:o});if(null===e.nextSibling)e.data="";else{s.push(e);o--}a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(marker,t+1));){this.parts.push({type:"node",index:-1});a++}}}else n.currentNode=i.pop()}for(const e of s)e.parentNode.removeChild(e)}}const endsWith=(e,t)=>{const s=e.length-t.length;return s>=0&&e.slice(s)===t},isTemplatePartActive=e=>-1!==e.index,createMarker=()=>document.createComment(""),lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class TemplateInstance{constructor(e,t,s){this.__parts=[];this.template=e;this.processor=t;this.options=s}update(e){let t=0;for(const s of this.__parts){void 0!==s&&s.setValue(e[t]);t++}for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],s=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let n,r=0,o=0,a=i.nextNode();for(;r<s.length;){n=s[r];if(isTemplatePartActive(n)){for(;o<n.index;){o++;if("TEMPLATE"===a.nodeName){t.push(a);i.currentNode=a.content}if(null===(a=i.nextNode())){i.currentNode=t.pop();a=i.nextNode()}}if("node"===n.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling);this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,n.name,n.strings,this.options));r++}else{this.__parts.push(void 0);r++}}if(isCEPolyfill){document.adoptNode(e);customElements.upgrade(e)}return e}}const policy=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),commentMarker=` ${marker} `;class TemplateResult{constructor(e,t,s,i){this.strings=e;this.values=t;this.type=s;this.processor=i}getHTML(){const e=this.strings.length-1;let t="",s=!1;for(let i=0;i<e;i++){const e=this.strings[i],n=e.lastIndexOf("\x3c!--");s=(n>-1||s)&&-1===e.indexOf("--\x3e",n+1);const r=lastAttributeNameRegex.exec(e);t+=null===r?e+(s?commentMarker:nodeMarker):e.substr(0,r.index)+r[1]+r[2]+"$lit$"+r[3]+marker}t+=this.strings[e];return t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();void 0!==policy&&(t=policy.createHTML(t));e.innerHTML=t;return e}}const isPrimitive=e=>null===e||!("object"==typeof e||"function"==typeof e),isIterable=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class AttributeCommitter{constructor(e,t,s){this.dirty=!0;this.element=e;this.name=t;this.strings=s;this.parts=[];for(let e=0;e<s.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new AttributePart(this)}_getValue(){const e=this.strings,t=e.length-1,s=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=s[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!isIterable(e))return e}let i="";for(let n=0;n<t;n++){i+=e[n];const t=s[n];if(void 0!==t){const e=t.value;if(isPrimitive(e)||!isIterable(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}i+=e[t];return i}commit(){if(this.dirty){this.dirty=!1;this.element.setAttribute(this.name,this._getValue())}}}class AttributePart{constructor(e){this.value=void 0;this.committer=e}setValue(e){if(e!==noChange&&(!isPrimitive(e)||e!==this.value)){this.value=e;isDirective(e)||(this.committer.dirty=!0)}}commit(){for(;isDirective(this.value);){const e=this.value;this.value=noChange;e(this)}this.value!==noChange&&this.committer.commit()}}class NodePart{constructor(e){this.value=void 0;this.__pendingValue=void 0;this.options=e}appendInto(e){this.startNode=e.appendChild(createMarker());this.endNode=e.appendChild(createMarker())}insertAfterNode(e){this.startNode=e;this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=createMarker());e.__insert(this.endNode=createMarker())}insertAfterPart(e){e.__insert(this.startNode=createMarker());this.endNode=e.endNode;e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;isDirective(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=noChange;e(this)}const e=this.__pendingValue;if(e!==noChange)if(isPrimitive(e))e!==this.value&&this.__commitText(e);else if(e instanceof TemplateResult)this.__commitTemplateResult(e);else if(e instanceof Node)this.__commitNode(e);else if(isIterable(e))this.__commitIterable(e);else if(e===nothing){this.value=nothing;this.clear()}else this.__commitText(e)}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){if(this.value!==e){this.clear();this.__insert(e);this.value=e}}__commitText(e){const t=this.startNode.nextSibling,s="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=s:this.__commitNode(document.createTextNode(s));this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof TemplateInstance&&this.value.template===t)this.value.update(e.values);else{const s=new TemplateInstance(t,e.processor,this.options),i=s._clone();s.update(e.values);this.__commitNode(i);this.value=s}}__commitIterable(e){if(!Array.isArray(this.value)){this.value=[];this.clear()}const t=this.value;let s,i=0;for(const n of e){s=t[i];if(void 0===s){s=new NodePart(this.options);t.push(s);0===i?s.appendIntoPart(this):s.insertAfterPart(t[i-1])}s.setValue(n);s.commit();i++}if(i<t.length){t.length=i;this.clear(s&&s.endNode)}}clear(e=this.startNode){removeNodes(this.startNode.parentNode,e.nextSibling,this.endNode)}}class BooleanAttributePart{constructor(e,t,s){this.value=void 0;this.__pendingValue=void 0;if(2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e;this.name=t;this.strings=s}setValue(e){this.__pendingValue=e}commit(){for(;isDirective(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=noChange;e(this)}if(this.__pendingValue===noChange)return;const e=!!this.__pendingValue;if(this.value!==e){e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name);this.value=e}this.__pendingValue=noChange}}class PropertyCommitter extends AttributeCommitter{constructor(e,t,s){super(e,t,s);this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new PropertyPart(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){if(this.dirty){this.dirty=!1;this.element[this.name]=this._getValue()}}}class PropertyPart extends AttributePart{}let eventOptionsSupported=!1;(()=>{try{const e={get capture(){eventOptionsSupported=!0;return!1}};window.addEventListener("test",e,e);window.removeEventListener("test",e,e)}catch(e){}})();class EventPart{constructor(e,t,s){this.value=void 0;this.__pendingValue=void 0;this.element=e;this.eventName=t;this.eventContext=s;this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;isDirective(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=noChange;e(this)}if(this.__pendingValue===noChange)return;const e=this.__pendingValue,t=this.value,s=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||s);s&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options);if(i){this.__options=getOptions(e);this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)}this.value=e;this.__pendingValue=noChange}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const getOptions=e=>e&&(eventOptionsSupported?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const defaultTemplateProcessor=new class{handleAttributeExpressions(e,t,s,i){const n=t[0];if("."===n){return new PropertyCommitter(e,t.slice(1),s).parts}if("@"===n)return[new EventPart(e,t.slice(1),i.eventContext)];if("?"===n)return[new BooleanAttributePart(e,t.slice(1),s)];return new AttributeCommitter(e,t,s).parts}handleTextExpression(e){return new NodePart(e)}};function templateFactory(e){let t=templateCaches.get(e.type);if(void 0===t){t={stringsArray:new WeakMap,keyString:new Map};templateCaches.set(e.type,t)}let s=t.stringsArray.get(e.strings);if(void 0!==s)return s;const i=e.strings.join(marker);s=t.keyString.get(i);if(void 0===s){s=new Template(e,e.getTemplateElement());t.keyString.set(i,s)}t.stringsArray.set(e.strings,s);return s}const templateCaches=new Map,parts=new WeakMap,render=(e,t,s)=>{let i=parts.get(t);if(void 0===i){removeNodes(t,t.firstChild);parts.set(t,i=new NodePart(Object.assign({templateFactory:templateFactory},s)));i.appendInto(t)}i.setValue(e);i.commit()};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const html=(e,...t)=>new TemplateResult(e,t,"html",defaultTemplateProcessor),createAndInsertPart=(e,t)=>{const s=e.startNode.parentNode,i=void 0===t?e.endNode:t.startNode,n=s.insertBefore(createMarker(),i);s.insertBefore(createMarker(),i);const r=new NodePart(e.options);r.insertAfterNode(n);return r},updatePart=(e,t)=>{e.setValue(t);e.commit();return e},insertPartBefore=(e,t,s)=>{const i=e.startNode.parentNode,n=s?s.startNode:e.endNode,r=t.endNode.nextSibling;r!==n&&((e,t,s=null,i=null)=>{for(;t!==s;){const s=t.nextSibling;e.insertBefore(t,i);t=s}})(i,t.startNode,r,n)},removePart=e=>{removeNodes(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},generateMap=(e,t,s)=>{const i=new Map;for(let n=t;n<=s;n++)i.set(e[n],n);return i},partListCache=new WeakMap,keyListCache=new WeakMap,repeat=(f=(e,t,s)=>{let i;void 0===s?s=t:void 0!==t&&(i=t);return t=>{if(!(t instanceof NodePart))throw new Error("repeat can only be used in text bindings");const n=partListCache.get(t)||[],r=keyListCache.get(t)||[],o=[],a=[],l=[];let d,c,h=0;for(const t of e){l[h]=i?i(t,h):h;a[h]=s(t,h);h++}let u=0,p=n.length-1,m=0,f=a.length-1;for(;u<=p&&m<=f;)if(null===n[u])u++;else if(null===n[p])p--;else if(r[u]===l[m]){o[m]=updatePart(n[u],a[m]);u++;m++}else if(r[p]===l[f]){o[f]=updatePart(n[p],a[f]);p--;f--}else if(r[u]===l[f]){o[f]=updatePart(n[u],a[f]);insertPartBefore(t,n[u],o[f+1]);u++;f--}else if(r[p]===l[m]){o[m]=updatePart(n[p],a[m]);insertPartBefore(t,n[p],n[u]);p--;m++}else{if(void 0===d){d=generateMap(l,m,f);c=generateMap(r,u,p)}if(d.has(r[u]))if(d.has(r[p])){const e=c.get(l[m]),s=void 0!==e?n[e]:null;if(null===s){const e=createAndInsertPart(t,n[u]);updatePart(e,a[m]);o[m]=e}else{o[m]=updatePart(s,a[m]);insertPartBefore(t,s,n[u]);n[e]=null}m++}else{removePart(n[p]);p--}else{removePart(n[u]);u++}}for(;m<=f;){const e=createAndInsertPart(t,o[f+1]);updatePart(e,a[m]);o[m++]=e}for(;u<=p;){const e=n[u++];null!==e&&removePart(e)}partListCache.set(t,o);keyListCache.set(t,l)}},(...e)=>{const t=f(...e);directives.set(t,!0);return t});var f;export{html,render,repeat};